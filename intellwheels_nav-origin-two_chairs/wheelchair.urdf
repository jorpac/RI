<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from src/intellwheels_desc/urdf/wheelchair.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="wheelchair">
  <!-- A origem da base.dae esta' no meio dos centros das rodas grandes-->
  <link name="base_footprint"/>
  <link name="base_link">
    <inertial>
      <mass value="145"/>
      <inertia ixx="3.64053" ixy="-0.06186" ixz="-0.00036" iyy="2.77052" iyz="0.35856" izz="0.20333"/>
    </inertial>
    <visual>
      <origin rpy="0 0 -1.57079632679"/>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/base.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0.2 0 -1.57079632679" xyz="0 0 0.588235294118"/>
      <geometry>
        <box size="0.45 0.78 0.769230769231"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0 0 -1.57079632679" xyz="0.375 0 0.08"/>
      <geometry>
        <box size="0.6 0.6 0.25"/>
      </geometry>
    </collision>
  </link>
  <joint name="base_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin xyz="0 0 0.17"/>
  </joint>
  <link name="left_drive_wheel_link">
    <inertial>
      <origin rpy="0 0 1.57079632679" xyz="0 0 -0.005"/>
      <mass value="3"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.57079632679" xyz="0 0 -0.005"/>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/wheel.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0"/>
      <geometry>
        <cylinder length="0.07" radius="0.184"/>
      </geometry>
    </collision>
  </link>
  <joint name="left_drive_wheel_joint" type="continuous">
    <origin xyz="0 0.294 0"/>
    <parent link="base_link"/>
    <child link="left_drive_wheel_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="right_drive_wheel_link">
    <inertial>
      <origin rpy="0 0 -1.57079632679" xyz="0 0 -0.005"/>
      <mass value="3"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 -1.57079632679" xyz="0 0 -0.005"/>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/wheel.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0"/>
      <geometry>
        <cylinder length="0.07" radius="0.184"/>
      </geometry>
    </collision>
  </link>
  <joint name="right_drive_wheel_joint" type="continuous">
    <origin xyz="0 -0.278 0"/>
    <parent link="base_link"/>
    <child link="right_drive_wheel_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="left_front_caster_arm_link">
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/caster_arm.dae"/>
      </geometry>
    </visual>
  </link>
  <joint name="left_front_caster_arm_joint" type="continuous">
    <origin rpy="0 0 -1.57079632679" xyz="0.35 0.196 0.122"/>
    <parent link="base_link"/>
    <child link="left_front_caster_arm_link"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="left_front_caster_wheel_link">
    <inertial>
      <origin rpy="0 0 3.14159265359"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 3.14159265359"/>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/wheel.dae" scale="0.5 0.5 0.5"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 1.57079632679"/>
      <geometry>
        <cylinder length="0.05" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <joint name="left_front_caster_wheel_joint" type="continuous">
    <origin xyz="0.0025 -0.044 -0.216"/>
    <parent link="left_front_caster_arm_link"/>
    <child link="left_front_caster_wheel_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <link name="right_front_caster_arm_link">
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/caster_arm.dae"/>
      </geometry>
    </visual>
  </link>
  <joint name="right_front_caster_arm_joint" type="continuous">
    <origin rpy="0 0 -1.57079632679" xyz="0.35 -0.21 0.122"/>
    <parent link="base_link"/>
    <child link="right_front_caster_arm_link"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="right_front_caster_wheel_link">
    <inertial>
      <origin rpy="0 0 0.0"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0.0"/>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/wheel.dae" scale="0.5 0.5 0.5"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 -1.57079632679"/>
      <geometry>
        <cylinder length="0.05" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <joint name="right_front_caster_wheel_joint" type="continuous">
    <origin xyz="0.0025 -0.044 -0.216"/>
    <parent link="right_front_caster_arm_link"/>
    <child link="right_front_caster_wheel_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <link name="left_back_caster_arm_link">
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/caster_arm.dae"/>
      </geometry>
    </visual>
  </link>
  <joint name="left_back_caster_arm_joint" type="continuous">
    <origin rpy="0 0 -1.57079632679" xyz="-0.392 0.196 0.122"/>
    <parent link="base_link"/>
    <child link="left_back_caster_arm_link"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="left_back_caster_wheel_link">
    <inertial>
      <origin rpy="0 0 3.14159265359"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 3.14159265359"/>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/wheel.dae" scale="0.5 0.5 0.5"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 1.57079632679"/>
      <geometry>
        <cylinder length="0.05" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <joint name="left_back_caster_wheel_joint" type="continuous">
    <origin xyz="0.0025 -0.044 -0.216"/>
    <parent link="left_back_caster_arm_link"/>
    <child link="left_back_caster_wheel_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <link name="right_back_caster_arm_link">
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/caster_arm.dae"/>
      </geometry>
    </visual>
  </link>
  <joint name="right_back_caster_arm_joint" type="continuous">
    <origin rpy="0 0 -1.57079632679" xyz="-0.392 -0.21 0.122"/>
    <parent link="base_link"/>
    <child link="right_back_caster_arm_link"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="right_back_caster_wheel_link">
    <inertial>
      <origin rpy="0 0 0.0"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0.0"/>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/wheel.dae" scale="0.5 0.5 0.5"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 -1.57079632679"/>
      <geometry>
        <cylinder length="0.05" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <joint name="right_back_caster_wheel_joint" type="continuous">
    <origin xyz="0.0025 -0.044 -0.216"/>
    <parent link="right_back_caster_arm_link"/>
    <child link="right_back_caster_wheel_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <link name="right_front_rplidar_link">
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/rplidar.dae"/>
      </geometry>
    </visual>
  </link>
  <joint name="right_front_rplidar_joint" type="fixed">
    <origin rpy="0 0 3.37721210261" xyz="0.578 -0.235 0.24"/>
    <parent link="base_link"/>
    <child link="right_front_rplidar_link"/>
  </joint>
  <link name="left_back_rplidar_link">
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://intellwheels_desc/meshes/rplidar.dae"/>
      </geometry>
    </visual>
  </link>
  <joint name="left_back_rplidar_joint" type="fixed">
    <origin rpy="0 0 0.0" xyz="-0.377 0.245 0.24"/>
    <parent link="base_link"/>
    <child link="left_back_rplidar_link"/>
  </joint>
  <link name="realsense_optical_link"/>
  <link name="realsense_support_link">
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.01 0.1 0.3"/>
      </geometry>
    </visual>
  </link>
  <link name="realsense_link">
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 1.57079632679 0"/>
      <geometry>
        <cylinder length="0.026" radius="0.0305"/>
      </geometry>
    </visual>
  </link>
  <joint name="realsense_support_joint" type="fixed">
    <origin rpy="0 0.1 0" xyz="-0.4 0 0.9"/>
    <parent link="base_link"/>
    <child link="realsense_support_link"/>
  </joint>
  <joint name="realsense_joint" type="fixed">
    <origin xyz="0.01 0 0.1"/>
    <parent link="realsense_support_link"/>
    <child link="realsense_link"/>
  </joint>
  <joint name="realsense_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679"/>
    <parent link="realsense_link"/>
    <child link="realsense_optical_link"/>
  </joint>
  <gazebo reference="base_link">
    <visual>
      <material>
        <ambient>0.24 0.4 0.42 1</ambient>
        <diffuse>0.31 0.51 0.53 1</diffuse>
        <specular>0.2 0.2 0.2 0</specular>
        <emissive>0.1 0 0.1 1</emissive>
      </material>
    </visual>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="differential_drive_controller">
      <updateRate>100</updateRate>
      <leftJoint>left_drive_wheel_joint</leftJoint>
      <rightJoint>right_drive_wheel_joint</rightJoint>
      <wheelSeparation>0.572</wheelSeparation>
      <wheelDiameter>0.368</wheelDiameter>
      <wheelAcceleration>1</wheelAcceleration>
      <wheelTorque>20</wheelTorque>
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <robotBaseFrame>base_footprint</robotBaseFrame>
      <odometrySource>world</odometrySource>
      <publishWheelTF>false</publishWheelTF>
      <publishOdomTF>True</publishOdomTF>
      <publishTf>True</publishTf>
      <publishWheelJointState>false</publishWheelJointState>
      <legacyMode>false</legacyMode>
      <rosDebugLevel>na</rosDebugLevel>
    </plugin>
  </gazebo>
  <gazebo reference="left_drive_wheel_link">
    <visual>
      <material>
        <ambient>0.64 0.64 0.64 1</ambient>
        <diffuse>0.64 0.64 0.64 1</diffuse>
        <specular>0.5 0.5 0.5 1</specular>
      </material>
    </visual>
  </gazebo>
  <gazebo reference="right_drive_wheel_link">
    <visual>
      <material>
        <ambient>0.64 0.64 0.64 1</ambient>
        <diffuse>0.64 0.64 0.64 1</diffuse>
        <specular>0.5 0.5 0.5 1</specular>
      </material>
    </visual>
  </gazebo>
  <gazebo reference="right_front_rplidar_link">
    <sensor name="right_front_rplidar" type="ray">
      <visualize>true</visualize>
      <update_rate>30</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-0.235619449019</min_angle>
            <max_angle>4.47676953137</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.20</min>
          <max>15</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="right_front_rplidar_controller">
        <topicName>right_front_rplidar_scan</topicName>
        <frameName>right_front_rplidar_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="left_back_rplidar_link">
    <sensor name="left_back_rplidar" type="ray">
      <visualize>true</visualize>
      <update_rate>30</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>0.0</min_angle>
            <max_angle>4.71238898038</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.20</min>
          <max>15</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="left_back_rplidar_controller">
        <topicName>left_back_rplidar_scan</topicName>
        <frameName>left_back_rplidar_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="realsense_link">
    <sensor name="realsense" type="depth">
      <update_rate>30</update_rate>
      <camera>
        <horizontal_fov>1.22</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
        </image>
        <clip>
          <near>0.25</near>
          <far>9</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="realsense_controller">
        <!-- used only for stereo cameras -->
        <baseline>0</baseline>
        <hackBaseline>0</hackBaseline>
        <!-- topics and naming -->
        <cameraName>realsense</cameraName>
        <imageTopicName>color/image_raw</imageTopicName>
        <cameraInfoTopicName>color/camera_info</cameraInfoTopicName>
        <depthImageTopicName>depth/image_raw</depthImageTopicName>
        <depthImageCameraInfoTopicName>depth/camera_info</depthImageCameraInfoTopicName>
        <pointCloudTopicName>depth/points</pointCloudTopicName>
        <frameName>realsense_optical_link</frameName>
        <!-- same clipping values as sensor -->
        <pointCloudCutoff>0.25</pointCloudCutoff>
        <pointCloudCutoffMax>9</pointCloudCutoffMax>
        <!-- camera lens distortion -->
        <distortionK1>0</distortionK1>
        <distortionK2>0</distortionK2>
        <distortionK3>0</distortionK3>
        <distortionT1>0</distortionT1>
        <distortionT2>0</distortionT2>
        <!-- auto computed when set to 0 -->
        <CxPrime>0</CxPrime>
        <Cx>0</Cx>
        <Cy>0</Cy>
        <focalLength>0</focalLength>
      </plugin>
    </sensor>
  </gazebo>
</robot>
